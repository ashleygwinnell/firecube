<HTML>
<HEAD>
<TITLE>
BoundingBox.cpp
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#include</font> <font color="maroon">&#60;string&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;vector&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;map&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;queue&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;boost/shared_ptr.hpp&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;boost/weak_ptr.hpp&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;sstream&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;limits&#62;</font>
<font color="blue">using</font> <font color="blue">namespace</font> std;
<font color="blue">#include</font> <font color="maroon">&#60;SDL.h&#62;</font>
<font color="blue">#include</font> <font color="maroon">&#60;windows.h&#62;</font>
<font color="blue">#include</font> <font color="maroon">"GLee.h"</font>

<font color="blue">#include</font> <font color="maroon">"utils.h"</font>  
<font color="blue">#include</font> <font color="maroon">"MyMath.h"</font> 
<font color="blue">#include</font> <font color="maroon">"BoundingBox.h"</font>


<font color="blue">using</font> <font color="blue">namespace</font> FireCube;

BoundingBox<font color="black">:</font><font color="black">:</font>BoundingBox<font color="black">(</font><font color="black">)</font> <font color="black">:</font> bmin<font color="black">(</font><font color="black">(</font>std<font color="black">:</font><font color="black">:</font>numeric_limits<font color="black">&#60;</font><font color="blue">float</font><font color="black">&#62;</font><font color="black">:</font><font color="black">:</font>max<font color="black">)</font><font color="black">(</font><font color="black">)</font>,<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>numeric_limits<font color="black">&#60;</font><font color="blue">float</font><font color="black">&#62;</font><font color="black">:</font><font color="black">:</font>max<font color="black">)</font><font color="black">(</font><font color="black">)</font>,<font color="black">(</font>std<font color="black">:</font><font color="black">:</font>numeric_limits<font color="black">&#60;</font><font color="blue">float</font><font color="black">&#62;</font><font color="black">:</font><font color="black">:</font>max<font color="black">)</font><font color="black">(</font><font color="black">)</font><font color="black">)</font>,bmax<font color="black">(</font><font color="black">-</font><font color="black">(</font>std<font color="black">:</font><font color="black">:</font>numeric_limits<font color="black">&#60;</font><font color="blue">float</font><font color="black">&#62;</font><font color="black">:</font><font color="black">:</font>max<font color="black">)</font><font color="black">(</font><font color="black">)</font>,<font color="black">-</font><font color="black">(</font>std<font color="black">:</font><font color="black">:</font>numeric_limits<font color="black">&#60;</font><font color="blue">float</font><font color="black">&#62;</font><font color="black">:</font><font color="black">:</font>max<font color="black">)</font><font color="black">(</font><font color="black">)</font>,<font color="black">-</font><font color="black">(</font>std<font color="black">:</font><font color="black">:</font>numeric_limits<font color="black">&#60;</font><font color="blue">float</font><font color="black">&#62;</font><font color="black">:</font><font color="black">:</font>max<font color="black">)</font><font color="black">(</font><font color="black">)</font><font color="black">)</font>
<font color="black">{</font>
<font color="black">}</font>
BoundingBox<font color="black">:</font><font color="black">:</font>BoundingBox<font color="black">(</font><font color="blue">const</font> vec3 <font color="black">&</font>min,<font color="blue">const</font> vec3 <font color="black">&</font>max<font color="black">)</font>
<font color="black">{</font>
    bmin<font color="black">=</font>min;
    bmax<font color="black">=</font>max;
<font color="black">}</font>
<font color="blue">void</font> BoundingBox<font color="black">:</font><font color="black">:</font>Expand<font color="black">(</font><font color="blue">const</font> BoundingBox <font color="black">&</font>bb<font color="black">)</font>
<font color="black">{</font>
    bmin.x<font color="black">=</font>min<font color="black">(</font>bmin.x,bb.bmin.x<font color="black">)</font>;
    bmin.y<font color="black">=</font>min<font color="black">(</font>bmin.y,bb.bmin.y<font color="black">)</font>;
    bmin.z<font color="black">=</font>min<font color="black">(</font>bmin.z,bb.bmin.z<font color="black">)</font>;

    bmax.x<font color="black">=</font>max<font color="black">(</font>bmax.x,bb.bmax.x<font color="black">)</font>;
    bmax.y<font color="black">=</font>max<font color="black">(</font>bmax.y,bb.bmax.y<font color="black">)</font>;
    bmax.z<font color="black">=</font>max<font color="black">(</font>bmax.z,bb.bmax.z<font color="black">)</font>;
<font color="black">}</font>
<font color="blue">void</font> BoundingBox<font color="black">:</font><font color="black">:</font>Expand<font color="black">(</font><font color="blue">const</font> vec3 <font color="black">&</font>v<font color="black">)</font>
<font color="black">{</font>
    bmin.x<font color="black">=</font>min<font color="black">(</font>bmin.x,v.x<font color="black">)</font>;
    bmin.y<font color="black">=</font>min<font color="black">(</font>bmin.y,v.y<font color="black">)</font>;
    bmin.z<font color="black">=</font>min<font color="black">(</font>bmin.z,v.z<font color="black">)</font>;

    bmax.x<font color="black">=</font>max<font color="black">(</font>bmax.x,v.x<font color="black">)</font>;
    bmax.y<font color="black">=</font>max<font color="black">(</font>bmax.y,v.y<font color="black">)</font>;
    bmax.z<font color="black">=</font>max<font color="black">(</font>bmax.z,v.z<font color="black">)</font>;
<font color="black">}</font>
<font color="blue">float</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetWidth<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> bmax.x<font color="black">-</font>bmin.x;
<font color="black">}</font>
<font color="blue">float</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetHeight<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> bmax.y<font color="black">-</font>bmin.y;
<font color="black">}</font>
<font color="blue">float</font> BoundingBox<font color="black">:</font><font color="black">:</font>GetDepth<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> bmax.z<font color="black">-</font>bmin.z;
<font color="black">}</font>
vec3 BoundingBox<font color="black">:</font><font color="black">:</font>GetCenter<font color="black">(</font><font color="black">)</font>
<font color="black">{</font>
    <font color="blue">return</font> <font color="black">(</font>bmin<font color="black">+</font>bmax<font color="black">)</font><font color="black">/</font><font color="maroon">2</font>.0f;
<font color="black">}</font>
<font color="blue">bool</font> BoundingBox<font color="black">:</font><font color="black">:</font>Contains<font color="black">(</font><font color="blue">const</font> BoundingBox <font color="black">&</font>bb<font color="black">)</font>
<font color="black">{</font>
    <font color="blue">if</font> <font color="black">(</font>bb.bmin.x <font color="black">&#62;</font><font color="black">=</font>bmin.x <font color="black">&</font><font color="black">&</font> bb.bmin.y <font color="black">&#62;</font><font color="black">=</font>bmin.y <font color="black">&</font><font color="black">&</font> bb.bmin.z <font color="black">&#62;</font><font color="black">=</font>bmin.z <font color="black">&</font><font color="black">&</font> bb.bmax.x <font color="black">&#60;</font><font color="black">=</font>bmax.x <font color="black">&</font><font color="black">&</font>  bb.bmax.y <font color="black">&#60;</font><font color="black">=</font>bmax.y <font color="black">&</font><font color="black">&</font>  bb.bmax.z <font color="black">&#60;</font><font color="black">=</font>bmax.z<font color="black">)</font>
        <font color="blue">return</font> <font color="blue">true</font>;
    <font color="blue">return</font> <font color="blue">false</font>;
<font color="black">}</font>
</PRE>
</BODY>
</HTML>
