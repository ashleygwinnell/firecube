<HTML>
<HEAD>
<TITLE>
Renderer.h
</TITLE>
</HEAD>
<BODY>
<PRE>
<font color="blue">#ifndef</font> RENDERER_H
<font color="blue">#define</font> RENDERER_H

<font color="blue">#pragma</font> <font color="blue">warning</font><font color="black">(</font>push<font color="black">)</font>
<font color="blue">#pragma</font> <font color="blue">warning</font><font color="black">(</font>disable<font color="black">:</font><font color="maroon">4251</font><font color="black">)</font>

<font color="blue">namespace</font> FireCube
<font color="black">{</font>
<font color="blue">class</font> FIRECUBE_API RenderState
<font color="black">{</font>
    <font color="blue">friend</font> <font color="blue">class</font> ShaderGenerator;
    <font color="blue">friend</font> <font color="blue">class</font> Technique;
<font color="blue">public</font><font color="black">:</font>
    RenderState<font color="black">(</font><font color="black">)</font>;
    <font color="blue">void</font> FromMaterial<font color="black">(</font>Material mat<font color="black">)</font>;
    <font color="blue">void</font> SetDirectionalLighting<font color="black">(</font><font color="blue">bool</font> enable<font color="black">)</font>;
    <font color="blue">void</font> SetPointLighting<font color="black">(</font><font color="blue">bool</font> enable<font color="black">)</font>;
    <font color="blue">void</font> SetFog<font color="black">(</font><font color="blue">bool</font> enable<font color="black">)</font>;
    <font color="blue">unsigned</font> <font color="blue">int</font> ToInt<font color="black">(</font><font color="black">)</font> <font color="blue">const</font>;
<font color="blue">private</font><font color="black">:</font>
    <font color="blue">bool</font> directionalLighting;
    <font color="blue">bool</font> pointLighting;
    <font color="blue">bool</font> diffuseTexture;
    <font color="blue">bool</font> normalTexture;
    <font color="blue">bool</font> fog;
<font color="black">}</font>;
<font color="blue">class</font> Application;
<font color="blue">class</font> Node;
<font color="blue">class</font> RenderQueue;
<font color="green">/**
* A namespace containing various functions responsible for the rendering pipeline.
*/</font>
<font color="blue">namespace</font> Renderer
<font color="black">{</font>
    <font color="green">/**
    * Clears the depth and color buffer.
    * @param color The color to clear the framebuffer.
    * @depth The depth to set the depth buffer.
    */</font>
    <font color="blue">void</font> FIRECUBE_API Clear<font color="black">(</font>vec4 color,<font color="blue">float</font> depth<font color="black">)</font>;
    <font color="green">/**
    * Renders a geometry.
    * @param model The model to render.
    */</font>
    <font color="blue">void</font> FIRECUBE_API Render<font color="black">(</font>Geometry geometry<font color="black">)</font>;
    <font color="green">/**
    * Renders a scene node.
    * @param node The node to render.
    */</font>
    <font color="blue">void</font> FIRECUBE_API Render<font color="black">(</font>Node node<font color="black">)</font>;
    <font color="green">/**
    * Renders a rendering queue.
    * @param queue The queue to render.
    */</font>
    <font color="blue">void</font> FIRECUBE_API Render<font color="black">(</font><font color="blue">const</font> RenderQueue <font color="black">&</font>queue<font color="black">)</font>;
    <font color="green">/**
    * Sets the current modelview matrix.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetModelViewMatrix<font color="black">(</font>mat4 <font color="black">&</font>m<font color="black">)</font>;
    <font color="green">/**
    * Sets the current projection matrix.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetProjectionMatrix<font color="black">(</font>mat4 <font color="black">&</font>m<font color="black">)</font>;
    <font color="green">/**
    * Sets the a texture matrix.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetTextureMatrix<font color="black">(</font>mat4 <font color="black">&</font>m,<font color="blue">int</font> unit<font color="black">)</font>;
    <font color="green">/**
    * Returns the current modelview matrix.
    */</font>
    mat4 FIRECUBE_API GetModelViewMatrix<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Returns the current projection matrix.
    */</font>
    mat4 FIRECUBE_API GetProjectionMatrix<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Pushes the the current modelview matrix to the stack.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SaveModelViewMatrix<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Pops the top modelview matrix from the stack and sets it to be the current matrix.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RestoreModelViewMatrix<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Pushes the the current projection matrix to the stack.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SaveProjectionMatrix<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Pops the top projection matrix from the stack and sets it to be the current matrix.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RestoreProjectionMatrix<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Multiplies the current modelview matrix by a given matrix.    
    */</font>
    <font color="blue">void</font> FIRECUBE_API MultiplyModelViewMatrix<font color="black">(</font>mat4 <font color="black">&</font>mat<font color="black">)</font>;
    <font color="green">/**
    * Binds the specified texture.
    * @param texture The texture to bind
    * @param unit Specifies the texture unit.
    */</font>
    <font color="blue">void</font> FIRECUBE_API UseTexture<font color="black">(</font>Texture tex,<font color="blue">unsigned</font> <font color="blue">int</font> unit<font color="black">)</font>;
    <font color="green">/**
    * Renders text.
    * @param font The font to use.
    * @param pos The position of the text.
    * @param str The string to output.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RenderText<font color="black">(</font>Font font,vec3 pos,vec4 color,<font color="blue">const</font> std<font color="black">:</font><font color="black">:</font>string <font color="black">&</font>str<font color="black">)</font>;
    <font color="green">/**
    * Renders an index stream.  
    * @param mode The rendering mode.
    * @param count The number of indices to render.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RenderIndexStream<font color="black">(</font>RenderMode mode,<font color="blue">unsigned</font> <font color="blue">int</font> count<font color="black">)</font>;
    <font color="green">/**
    * Renders a stream.
    * @param mode The rendering mode.
    * @param count The number of indices to render.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RenderStream<font color="black">(</font>RenderMode mode,<font color="blue">unsigned</font> <font color="blue">int</font> count<font color="black">)</font>;
    <font color="green">/**
    * Disables a texture coordinates stream.
    * @param unit The texture unit.
    */</font>
    <font color="blue">void</font> FIRECUBE_API DisableTexCoordStream<font color="black">(</font><font color="blue">unsigned</font> <font color="blue">int</font> unit<font color="black">)</font>;
    <font color="green">/**
    * Disables the normal stream.   
    */</font>
    <font color="blue">void</font> FIRECUBE_API DisableNormalStream<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Uses a program.
    * @param program The program to use.
    */</font>
    <font color="blue">void</font> FIRECUBE_API UseProgram<font color="black">(</font>Program program<font color="black">)</font>;
    <font color="green">/**
    * Uses a material.
    * @param material The material to use.
    */</font>
    <font color="blue">void</font> FIRECUBE_API UseMaterial<font color="black">(</font>Material material<font color="black">)</font>;
    <font color="green">/**
    * Uses a frame buffer.
    * @param frameBuffer The frame buffer to use.
    */</font>
    <font color="blue">void</font> FIRECUBE_API UseFrameBuffer<font color="black">(</font>FrameBuffer frameBuffer<font color="black">)</font>;
    <font color="green">/**
    * Restores the default render buffer.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RestoreFrameBuffer<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Sets the rendering viewport.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetViewport<font color="black">(</font><font color="blue">int</font> left,<font color="blue">int</font> right,<font color="blue">int</font> width,<font color="blue">int</font> height<font color="black">)</font>;
    <font color="green">/**
    * Sets a global program overriding any program assignment.
    * @param program The program to use
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetGlobalProgram<font color="black">(</font>Program program<font color="black">)</font>;
    <font color="green">/**
    * Sets a perspective projection.
    * @param fov The field of view in degrees.
    * @param zNear The near clipping plane.
    * @param zFar The far clipping plane.
    */</font>  
    <font color="blue">void</font> FIRECUBE_API SetPerspectiveProjection<font color="black">(</font><font color="blue">float</font> fov,<font color="blue">float</font> zNear,<font color="blue">float</font> zFar<font color="black">)</font>;   
    <font color="green">/**
    * Sets an orthographic projection with a one to one pixel ratio.    
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetOrthographicProjection<font color="black">(</font><font color="black">)</font>;  
    <font color="green">/**
    * Adds a technique to the list of techniques.
    * @param name The name of the technique.
    * @param technique The technique to associate with name.
    */</font>
    <font color="blue">void</font> FIRECUBE_API AddTechnique<font color="black">(</font><font color="blue">const</font> std<font color="black">:</font><font color="black">:</font>string <font color="black">&</font><font color="blue">name</font>, Technique technique<font color="black">)</font>;
    <font color="green">/**
    * Get a technique by name.
    * @param name The name of the technique.
    */</font>
    Technique FIRECUBE_API GetTechnique<font color="black">(</font><font color="blue">const</font> std<font color="black">:</font><font color="black">:</font>string <font color="black">&</font><font color="blue">name</font><font color="black">)</font>;
    <font color="green">/**
    * Removes a technique.
    * @param name The name of the technique.
    */</font>
    <font color="blue">void</font> FIRECUBE_API RemoveTechnique<font color="black">(</font><font color="blue">const</font> std<font color="black">:</font><font color="black">:</font>string <font color="black">&</font><font color="blue">name</font><font color="black">)</font>;
    <font color="green">/**
    * Sets the current texture manager.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetTextureManager<font color="black">(</font>TextureManager <font color="black">&</font>textureManager<font color="black">)</font>;
    <font color="green">/**
    * Gets the current texture manager.
    */</font>
    TextureManager FIRECUBE_API <font color="black">&</font>GetTextureManager<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Sets the current shader manager.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetShaderManager<font color="black">(</font>ShaderManager <font color="black">&</font>shaderManager<font color="black">)</font>;
    <font color="green">/**
    * Gets the current shader manager.
    */</font>
    ShaderManager FIRECUBE_API <font color="black">&</font>GetShaderManager<font color="black">(</font><font color="black">)</font>;
    <font color="green">/**
    * Sets the current font manager.
    */</font>
    <font color="blue">void</font> FIRECUBE_API SetFontManager<font color="black">(</font>FontManager <font color="black">&</font>fontManager<font color="black">)</font>;
    <font color="green">/**
    * Gets the current font manager.
    */</font>
    FontManager FIRECUBE_API <font color="black">&</font>GetFontManager<font color="black">(</font><font color="black">)</font>;
<font color="black">}</font>;
<font color="black">}</font>
<font color="blue">#pragma</font> <font color="blue">warning</font><font color="black">(</font>pop<font color="black">)</font>

<font color="blue">#endif</font>
</PRE>
</BODY>
</HTML>
